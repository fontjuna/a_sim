{
    "breakout_strategy": {
        "script": "\n# 돌파 전략 (신고가 돌파 + 거래량 급증)\n\n# 20일 신고가 돌파 확인\nprice_breakout = is_price_breakout(code, period=20, direction='up')\n\n# 거래량 확인 (평균 대비 2배 이상)\nvol_surge = volume_surge(code, multiplier=2.0)\n\n# 결과 반환: 가격 돌파 + 거래량 급증\nresult = price_breakout and vol_surge\n",
        "vars": {}
    },
    "golden_cross": {
        "script": "\n# 골든 크로스 전략\ndy = ChartManager('dy')  # 일봉\n\n# 단기/장기 이동평균\nshort_ma = dy.ma(code, dy.c, 5)  # 5일 단순이동평균\nlong_ma = dy.ma(code, dy.c, 20)  # 20일 단순이동평균\n\n# 골든 크로스 확인\nis_golden_cross = dy.cross_up(code, \n    lambda c, n: dy.ma(c, dy.c, 5, n, 'a'), \n    lambda c, n: dy.ma(c, dy.c, 20, n, 'a'))\n\n# 거래량 확인\nvolume_increase = volume_surge(code, multiplier=1.5)\n\n# 결과 반환: 골든크로스 + 거래량 증가\nresult = is_golden_cross and volume_increase\n        ",
        "vars": {
            "short_period": 5,
            "long_period": 20
        }
    },
    "is_price_breakout": {
        "script": "\n# 가격 신고가/신저가 돌파 확인\ndy = ChartManager('dy')\n# 기본값으로 방향(상향/하향)과 기간 설정\ndirection = kwargs.get('direction', 'up')\nperiod = kwargs.get('period', 20)\n# 기준값 계산\nif direction == 'up':\n    threshold = dy.highest(code, dy.h, period, 1)  # 이전 고점\n    current = dy.c(code)  # 현재가\n    return current > threshold  # 상향 돌파\nelse:\n    threshold = dy.lowest(code, dy.l, period, 1)  # 이전 저점\n    current = dy.c(code)  # 현재가\n    return current < threshold  # 하향 돌파\n        ",
        "vars": {},
        "type": "bool",
        "desc": "특정 기간의 고점/저점 돌파 여부 확인"
    },
    "volume_surge": {
        "script": "\n# 거래량 급증 확인\ndy = ChartManager('dy')\n# 기본값으로 배수와 기간 설정\nmultiplier = kwargs.get('multiplier', 2.0)\nperiod = kwargs.get('period', 20)\n# 평균 거래량 계산\navg_volume = dy.avg(code, dy.v, period)\n# 현재 거래량이 평균의 N배 이상인지 확인\nreturn dy.v(code) >= avg_volume * multiplier\n        ",
        "vars": {},
        "type": "bool",
        "desc": "거래량이 평균 대비 특정 배수 이상 증가했는지 확인"
    }
}