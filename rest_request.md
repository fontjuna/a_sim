# LIBERANIMO API ìš”ì²­ ì œí•œ ë¶„ì„

## ğŸ“‹ ëª©ì°¨
1. [ìš”ì²­ ì œí•œ ì •ì±… ë¹„êµ](#1-ìš”ì²­-ì œí•œ-ì •ì±…-ë¹„êµ)
2. [ì‹¤ì œ ì‚¬ìš©ëŸ‰ ë¶„ì„](#2-ì‹¤ì œ-ì‚¬ìš©ëŸ‰-ë¶„ì„)
3. [ìµœì í™” ì „ëµ](#3-ìµœì í™”-ì „ëµ)
4. [ê²°ë¡  ë° ê¶Œì¥ì‚¬í•­](#4-ê²°ë¡ -ë°-ê¶Œì¥ì‚¬í•­)

---

## 1. ìš”ì²­ ì œí•œ ì •ì±… ë¹„êµ

### 1.1 í‚¤ì›€ OpenAPI ì œí•œ

```python
# í˜„ì¬ ì½”ë“œì˜ TimeLimiter (api_server.py)
ord = TimeLimiter(name='ord', second=5, minute=300, hour=18000)
req = TimeLimiter(name='req', second=5, minute=100, hour=1000)

ì œí•œ ì‚¬í•­:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ êµ¬ë¶„        â”‚ ì´ˆë‹¹    â”‚ ë¶„ë‹¹    â”‚ ì‹œê°„ë‹¹   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì£¼ë¬¸(ord)   â”‚ 5ê±´     â”‚ 300ê±´   â”‚ 18,000ê±´ â”‚
â”‚ ì¡°íšŒ(req)   â”‚ 5ê±´     â”‚ 100ê±´   â”‚ 1,000ê±´  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

íŠ¹ì§•:
- âš ï¸ ë§¤ìš° ì—„ê²©í•œ ì œí•œ
- âš ï¸ ì‹œê°„ë‹¹ 1,000ê±´ (ì¡°íšŒ)
- âš ï¸ ì´ˆë‹¹ 5ê±´ (ë²„ìŠ¤íŠ¸ ì œí•œ)
- âš ï¸ ê°™ì€ TR 1ë¶„ ë‚´ ì¬ìš”ì²­ ë¶ˆê°€
```

### 1.2 í‚¤ì›€ KIS REST API ì œí•œ

```python
í‚¤ì›€ì¦ê¶Œ KIS API ì •ì±…:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ êµ¬ë¶„        â”‚ ì´ˆë‹¹    â”‚ ë¶„ë‹¹    â”‚ ì¼ì¼     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì£¼ë¬¸        â”‚ 20ê±´    â”‚ ì œí•œì—†ìŒâ”‚ ì œí•œì—†ìŒ â”‚
â”‚ ì¡°íšŒ(ì¼ë°˜)  â”‚ 20ê±´    â”‚ ì œí•œì—†ìŒâ”‚ ì œí•œì—†ìŒ â”‚
â”‚ ì‹œì„¸ì¡°íšŒ    â”‚ 20ê±´    â”‚ 1,000ê±´ â”‚ ì œí•œì—†ìŒ â”‚
â”‚ WebSocket   â”‚ ì—°ê²°ì œí•œâ”‚ 40ê°œ    â”‚ -        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

íŠ¹ì§•:
- âœ… ì´ˆë‹¹ 20ê±´ (OpenAPIì˜ 4ë°°)
- âœ… ì‹œê°„ë‹¹ ì œí•œ ì—†ìŒ
- âœ… ì¼ì¼ ì œí•œ ì—†ìŒ
- âš ï¸ ì‹œì„¸ì¡°íšŒë§Œ ë¶„ë‹¹ 1,000ê±´
```

### 1.3 ë¹„êµ ìš”ì•½

| í•­ëª© | OpenAPI | REST API | ì¦ê° |
|-----|---------|----------|------|
| **ì´ˆë‹¹ ì£¼ë¬¸** | 5ê±´ | 20ê±´ | â¬†ï¸ **4ë°°** |
| **ì´ˆë‹¹ ì¡°íšŒ** | 5ê±´ | 20ê±´ | â¬†ï¸ **4ë°°** |
| **ë¶„ë‹¹ ì¡°íšŒ** | 100ê±´ | 1,000ê±´ (ì‹œì„¸ë§Œ) | â¬†ï¸ **10ë°°** |
| **ì‹œê°„ë‹¹ ì¡°íšŒ** | 1,000ê±´ | ì œí•œì—†ìŒ | â¬†ï¸ **ë¬´ì œí•œ** |
| **ì¼ì¼ ì¡°íšŒ** | ì œí•œì—†ìŒ | ì œí•œì—†ìŒ | - |

**ê²°ë¡ **: âœ… **ì „ë°˜ì ìœ¼ë¡œ ëŒ€í­ ì™„í™”ë¨!**

---

## 2. ì‹¤ì œ ì‚¬ìš©ëŸ‰ ë¶„ì„

### 2.1 í˜„ì¬ LIBERANIMO ìš”ì²­ íŒ¨í„´ (ì¶”ì •)

#### ì‹œë‚˜ë¦¬ì˜¤ 1: ì •ìƒ ìš´ì˜ (ì¡°ê±´ê²€ìƒ‰ 5ê°œ, ë³´ìœ  10ì¢…ëª©)

```python
# 1. ì´ˆê¸°í™” (ë¡œê·¸ì¸ ì‹œ)
- CommConnect: 1íšŒ
- GetConditionLoad: 1íšŒ
- GetConditionNameList: 1íšŒ
- SendCondition: 5íšŒ (ì¡°ê±´ 5ê°œ)
ì´: 8íšŒ (1íšŒì„±)

# 2. ì‹¤ì‹œê°„ ë°ì´í„° (ì—°ì†)
- SetRealReg: 10íšŒ (ë³´ìœ  ì¢…ëª©)
- OnReceiveRealData: ê³„ì† ìˆ˜ì‹  (ìš”ì²­ ì•„ë‹˜)
ì´: 10íšŒ (1íšŒì„±)

# 3. ì •ê¸° ì¡°íšŒ (10ì´ˆë§ˆë‹¤)
- opw00018 (ì”ê³ ): 1íšŒ
ì´: 1íšŒ / 10ì´ˆ = 6íšŒ / ë¶„

# 4. ì¡°ê±´ í¸ì… ì‹œ (í‰ê·  ì‹œê°„ë‹¹ 50ì¢…ëª©)
- opt10001 (í˜„ì¬ê°€): 50íšŒ / ì‹œê°„
- SendOrder (ì£¼ë¬¸): 50íšŒ / ì‹œê°„
ì´: 100íšŒ / ì‹œê°„

# 5. ì „ëµ í‰ê°€ (ë³´ìœ  ì¢…ëª©, 1ë¶„ë§ˆë‹¤)
- opt10080 (ë¶„ë´‰): 10íšŒ / ë¶„
- GetMasterCodeName: 10íšŒ / ë¶„ (ìºì‹± ì•ˆ í•˜ë©´)
ì´: 20íšŒ / ë¶„

# ì¢…í•© (í‰ê· )
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ì´ˆë‹¹: ì•½ 0.5ê±´ (ì—¬ìœ )
ë¶„ë‹¹: ì•½ 26ê±´ (OpenAPI ì œí•œ: 100ê±´)
ì‹œê°„ë‹¹: ì•½ 150ê±´ (OpenAPI ì œí•œ: 1,000ê±´)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… í˜„ì¬ëŠ” ì œí•œ ë‚´ ìš´ì˜ ì¤‘
```

#### ì‹œë‚˜ë¦¬ì˜¤ 2: ê³ ë¶€í•˜ ìƒí™© (ì¡°ê±´ê²€ìƒ‰ 20ê°œ, ë³´ìœ  30ì¢…ëª©)

```python
# 1. ì‹¤ì‹œê°„ ë°ì´í„°
- SetRealReg: 30íšŒ (ë³´ìœ  ì¢…ëª©)

# 2. ì •ê¸° ì¡°íšŒ (5ì´ˆë§ˆë‹¤ë¡œ ë‹¨ì¶•)
- opw00018 (ì”ê³ ): 12íšŒ / ë¶„

# 3. ì¡°ê±´ í¸ì… (ì‹œê°„ë‹¹ 200ì¢…ëª©)
- opt10001 (í˜„ì¬ê°€): 200íšŒ / ì‹œê°„
- SendOrder (ì£¼ë¬¸): 200íšŒ / ì‹œê°„

# 4. ì „ëµ í‰ê°€ (30ì´ˆë§ˆë‹¤)
- opt10080 (ë¶„ë´‰): 60íšŒ / ë¶„
- opt10081 (ì¼ë´‰): 30íšŒ / ë¶„

# ì¢…í•©
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ì´ˆë‹¹: ì•½ 2ê±´
ë¶„ë‹¹: ì•½ 102ê±´ âš ï¸ (OpenAPI ì œí•œ: 100ê±´)
ì‹œê°„ë‹¹: ì•½ 400ê±´ (OpenAPI ì œí•œ: 1,000ê±´)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸ ë¶„ë‹¹ ì œí•œ ì´ˆê³¼ ìœ„í—˜!
```

### 2.2 REST APIë¡œ ì „í™˜ ì‹œ

#### ê°™ì€ ì‹œë‚˜ë¦¬ì˜¤ 2 (ê³ ë¶€í•˜)

```python
# 1. ì´ˆê¸°í™”
- OAuth í† í°: 1íšŒ
- ê³„ì¢Œ ì¡°íšŒ: 1íšŒ
ì´: 2íšŒ (ê°„ë‹¨)

# 2. ì‹¤ì‹œê°„ ë°ì´í„°
- WebSocket êµ¬ë…: 1íšŒ (ì—¬ëŸ¬ ì¢…ëª© ë™ì‹œ)
- ì´í›„ ê³„ì† ìˆ˜ì‹  (ìš”ì²­ ì•„ë‹˜)
ì´: 1íšŒ

# 3. ì •ê¸° ì¡°íšŒ (5ì´ˆë§ˆë‹¤)
- ì”ê³  ì¡°íšŒ: 12íšŒ / ë¶„

# 4. ì¡°ê±´ í¸ì… (ì‹œê°„ë‹¹ 200ì¢…ëª©)
- í˜„ì¬ê°€ ì¡°íšŒ: 200íšŒ / ì‹œê°„
- ì£¼ë¬¸: 200íšŒ / ì‹œê°„

# 5. ì „ëµ í‰ê°€
- ë¶„ë´‰ ì¡°íšŒ: 60íšŒ / ë¶„
- ì¼ë´‰ ì¡°íšŒ: 30íšŒ / ë¶„

# ì¢…í•©
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ì´ˆë‹¹: ì•½ 2ê±´ (REST ì œí•œ: 20ê±´)
ë¶„ë‹¹: ì•½ 102ê±´ (REST ì œí•œ: 1,000ê±´)
ì‹œê°„ë‹¹: ì•½ 400ê±´ (REST ì œí•œ: ì—†ìŒ)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… ëª¨ë“  ì œí•œ ë‚´ ì—¬ìœ ë¡­ê²Œ ìš´ì˜!
```

---

## 3. ìµœì í™” ì „ëµ

### 3.1 OpenAPI ì‹œì ˆ í•„ìˆ˜ ìµœì í™”

```python
# 1. ë°°ì¹˜ ì²˜ë¦¬ (ì—¬ëŸ¬ ì¢…ëª© í•œ ë²ˆì—)
codes = ['005930', '000660', '035420']
# âŒ ê°œë³„ ìš”ì²­ (3íšŒ)
for code in codes:
    get_current_price(code)

# âœ… ë°°ì¹˜ ìš”ì²­ (1íšŒ)
get_multi_price(codes)  # ê·¸ëŸ¬ë‚˜ OpenAPIëŠ” ë°°ì¹˜ API ë¶€ì¡±


# 2. ìºì‹± (ì¤‘ë³µ ìš”ì²­ ë°©ì§€)
@lru_cache(maxsize=1000, ttl=60)
def get_stock_name(code):
    return GetMasterCodeName(code)


# 3. ìš”ì²­ ëŒ€ê¸° (TimeLimiter)
def com_request_time_check(kind='order'):
    wait_time = ord.check_interval()
    if wait_time > 1000:
        time.sleep(wait_time/1000)  # ê°•ì œ ëŒ€ê¸°


# 4. ìš°ì„ ìˆœìœ„ í
priority_queue = {
    'high': [],    # ì£¼ë¬¸ (ì¦‰ì‹œ)
    'medium': [],  # í˜„ì¬ê°€ ì¡°íšŒ
    'low': []      # ì°¨íŠ¸ ë°ì´í„°
}
```

**ë¬¸ì œì **: ë³µì¡í•˜ê³  ì„±ëŠ¥ ì €í•˜

### 3.2 REST API ìµœì í™” (ë” ì‰¬ì›€)

```python
# 1. ì—°ê²° í’€ (requests.Session)
class KiwoomAPI:
    def __init__(self):
        self.session = requests.Session()  # ì—°ê²° ì¬ì‚¬ìš©
        adapter = HTTPAdapter(
            pool_connections=10,
            pool_maxsize=20,
            max_retries=3
        )
        self.session.mount('https://', adapter)
    
    def get_balance(self):
        # ì—°ê²° ì¬ì‚¬ìš©ìœ¼ë¡œ ë¹ ë¦„
        return self.session.get(url, headers, params)


# 2. ë¹„ë™ê¸° ì²˜ë¦¬ (ëŒ€ëŸ‰ ì¡°íšŒ)
import asyncio
import aiohttp

async def get_prices_async(codes):
    """ì—¬ëŸ¬ ì¢…ëª© ë™ì‹œ ì¡°íšŒ"""
    async with aiohttp.ClientSession() as session:
        tasks = [
            fetch_price(session, code) 
            for code in codes
        ]
        return await asyncio.gather(*tasks)

# ì‚¬ìš©
codes = ['005930', '000660', ...]  # 100ê°œ
prices = await get_prices_async(codes)
# 100ê°œë¥¼ 5ì´ˆë§Œì— (ë³‘ë ¬ ì²˜ë¦¬)


# 3. ìºì‹± (ë” ê°„ë‹¨)
from functools import lru_cache

@lru_cache(maxsize=1000)
def get_stock_info(code):
    return broker.get_current_price(code)


# 4. Rate Limiter (ê°„ë‹¨)
from ratelimit import limits, sleep_and_retry

@sleep_and_retry
@limits(calls=20, period=1)  # ì´ˆë‹¹ 20ê±´
def api_call():
    return broker.get_balance()
```

**ì¥ì **: 
- âœ… ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©
- âœ… ë¹„ë™ê¸° ì²˜ë¦¬ ê°€ëŠ¥
- âœ… ë” ë¹ ë¥¸ ì„±ëŠ¥

### 3.3 ìš”ì²­ ìˆ˜ ê°ì†Œ ì „ëµ

#### ì „ëµ 1: WebSocket í™œìš©

```python
# OpenAPI: ì‹¤ì‹œê°„ ë°ì´í„° ìœ„í•´ ê³„ì† SetRealReg í•„ìš”
for code in new_codes:
    SetRealReg(screen, code, fids, "1")  # ê° ì¢…ëª©ë§ˆë‹¤

# REST: WebSocket í•œ ë²ˆë§Œ
ws.send(json.dumps({
    "header": {"tr_id": "H0STCNT0"},
    "body": {"codes": new_codes}  # ì—¬ëŸ¬ ì¢…ëª© í•œ ë²ˆì—
}))

ì ˆê°: 10ì¢…ëª© = 10íšŒ â†’ 1íšŒ
```

#### ì „ëµ 2: ìŠ¤ë§ˆíŠ¸ ìºì‹±

```python
class SmartCache:
    """TTL ê¸°ë°˜ ìºì‹±"""
    
    def __init__(self):
        self.cache = {}
        self.ttl = {
            'balance': 10,      # 10ì´ˆ
            'price': 1,         # 1ì´ˆ
            'chart_day': 300,   # 5ë¶„
        }
    
    def get(self, key, fetch_func):
        if key in self.cache:
            data, timestamp = self.cache[key]
            if time.time() - timestamp < self.ttl.get(key, 60):
                return data  # ìºì‹œ ì‚¬ìš© (ìš”ì²­ ì•ˆ í•¨!)
        
        # ìºì‹œ ì—†ìŒ, ìƒˆë¡œ ìš”ì²­
        data = fetch_func()
        self.cache[key] = (data, time.time())
        return data

# ì‚¬ìš©
cache = SmartCache()

# 10ì´ˆ ë‚´ ì¬ìš”ì²­ ì‹œ ìºì‹œ ì‚¬ìš© (API ìš”ì²­ 0íšŒ!)
balance1 = cache.get('balance', lambda: broker.get_balance())
time.sleep(5)
balance2 = cache.get('balance', lambda: broker.get_balance())  # ìºì‹œ!
```

#### ì „ëµ 3: ë°°ì¹˜ API í™œìš©

```python
# REST APIëŠ” ë°°ì¹˜ ì¡°íšŒ ì§€ì› (ì¦ê¶Œì‚¬ë§ˆë‹¤ ë‹¤ë¦„)

# ê°œë³„ ìš”ì²­ (100íšŒ)
for code in codes:
    price = broker.get_current_price(code)

# ë°°ì¹˜ ìš”ì²­ (1íšŒ!)
prices = broker.get_multi_price(codes)  # í•œ ë²ˆì— 100ê°œ
```

---

## 4. êµ¬ì²´ì  ìˆ˜ì¹˜ ë¹„êµ

### 4.1 ì¼ë°˜ì ì¸ ìš´ì˜ ì‹œë‚˜ë¦¬ì˜¤

```python
ìƒí™©: ì¡°ê±´ê²€ìƒ‰ 10ê°œ, ë³´ìœ  20ì¢…ëª©, í‰ê·  ê±°ë˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì‘ì—…            â”‚ OpenAPI  â”‚ REST API â”‚ ë³€í™”    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì´ˆê¸°í™”          â”‚ 15íšŒ     â”‚ 2íšŒ      â”‚ â¬‡ï¸ 87%  â”‚
â”‚ ì‹¤ì‹œê°„ ë“±ë¡     â”‚ 20íšŒ     â”‚ 1íšŒ      â”‚ â¬‡ï¸ 95%  â”‚
â”‚ ì”ê³  ì¡°íšŒ/ë¶„    â”‚ 6íšŒ      â”‚ 6íšŒ      â”‚ -       â”‚
â”‚ í˜„ì¬ê°€ ì¡°íšŒ/ì‹œê°„â”‚ 100íšŒ    â”‚ 50íšŒ*    â”‚ â¬‡ï¸ 50%  â”‚
â”‚ ì°¨íŠ¸ ì¡°íšŒ/ì‹œê°„  â”‚ 60íšŒ     â”‚ 30íšŒ*    â”‚ â¬‡ï¸ 50%  â”‚
â”‚ ì£¼ë¬¸/ì‹œê°„       â”‚ 50íšŒ     â”‚ 50íšŒ     â”‚ -       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì´ ìš”ì²­/ì‹œê°„    â”‚ ì•½ 246íšŒ â”‚ ì•½ 140íšŒ â”‚ â¬‡ï¸ 43%  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

* ìºì‹± ë° WebSocket í™œìš© ì‹œ
```

### 4.2 ê³ ë¶€í•˜ ì‹œë‚˜ë¦¬ì˜¤

```python
ìƒí™©: ì¡°ê±´ê²€ìƒ‰ 30ê°œ, ë³´ìœ  50ì¢…ëª©, í™œë°œí•œ ê±°ë˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì‘ì—…            â”‚ OpenAPI  â”‚ REST API â”‚ ë³€í™”    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì´ˆê¸°í™”          â”‚ 50íšŒ     â”‚ 2íšŒ      â”‚ â¬‡ï¸ 96%  â”‚
â”‚ ì‹¤ì‹œê°„ ë“±ë¡     â”‚ 50íšŒ     â”‚ 1íšŒ      â”‚ â¬‡ï¸ 98%  â”‚
â”‚ ì”ê³  ì¡°íšŒ/ë¶„    â”‚ 12íšŒ     â”‚ 12íšŒ     â”‚ -       â”‚
â”‚ í˜„ì¬ê°€ ì¡°íšŒ/ì‹œê°„â”‚ 500íšŒ    â”‚ 200íšŒ*   â”‚ â¬‡ï¸ 60%  â”‚
â”‚ ì°¨íŠ¸ ì¡°íšŒ/ì‹œê°„  â”‚ 300íšŒ    â”‚ 100íšŒ*   â”‚ â¬‡ï¸ 67%  â”‚
â”‚ ì£¼ë¬¸/ì‹œê°„       â”‚ 200íšŒ    â”‚ 200íšŒ    â”‚ -       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì´ ìš”ì²­/ì‹œê°„    â”‚ ì•½ 1,000íšŒâ”‚ ì•½ 500íšŒ â”‚ â¬‡ï¸ 50%  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

OpenAPI: âš ï¸ ì‹œê°„ë‹¹ ì œí•œ(1,000íšŒ) ê·¼ì ‘!
REST API: âœ… ì—¬ìœ  (ë¬´ì œí•œ)
```

### 4.3 ê·¹í•œ ì‹œë‚˜ë¦¬ì˜¤ (ì´ë¡ ìƒ ìµœëŒ€)

```python
OpenAPI ìµœëŒ€ì¹˜:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ì´ˆë‹¹: 5ê±´ (ê·¸ ì´ìƒ ë¶ˆê°€)
ë¶„ë‹¹: 100ê±´ (ê·¸ ì´ìƒ ë¶ˆê°€)
ì‹œê°„ë‹¹: 1,000ê±´ (ê·¸ ì´ìƒ ë¶ˆê°€)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

REST API ìµœëŒ€ì¹˜:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ì´ˆë‹¹: 20ê±´
ë¶„ë‹¹: 1,200ê±´ (ì´ˆë‹¹ 20ê±´ Ã— 60ì´ˆ)
ì‹œê°„ë‹¹: 72,000ê±´ (ì´ë¡ ìƒ, ì‹¤ì œëŠ” ë¬´ì œí•œ)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

í™•ì¥ì„±: RESTê°€ 72ë°°!
```

---

## 5. ì‹¤ì œ ì‚¬ë¡€ ë¹„êµ

### 5.1 ì¼€ì´ìŠ¤ 1: ì°¨íŠ¸ ë°ì´í„° ìˆ˜ì§‘

```python
# ì‹œë‚˜ë¦¬ì˜¤: 100ê°œ ì¢…ëª©ì˜ ì¼ë´‰ ë°ì´í„° ìˆ˜ì§‘

# OpenAPI
start = time.time()
for code in codes:  # 100ê°œ
    data = get_chart_data(code, 'dy', 1)
    time.sleep(0.5)  # TimeLimiter ëŒ€ê¸°
end = time.time()
print(f"ì†Œìš” ì‹œê°„: {end - start:.1f}ì´ˆ")
# ê²°ê³¼: ì•½ 50ì´ˆ (ëŒ€ê¸° ì‹œê°„ í¬í•¨)

# OpenAPI ìµœì í™” ë²„ì „
start = time.time()
for code in codes:
    data = get_chart_data(code, 'dy', 1)
    time.sleep(0.05)  # ìµœì†Œ ëŒ€ê¸°
end = time.time()
# ê²°ê³¼: ì•½ 5ì´ˆ
# í•˜ì§€ë§Œ ë¶„ë‹¹ ì œí•œ(100ê±´) ì´ˆê³¼ ìœ„í—˜!


# REST API
start = time.time()
with ThreadPoolExecutor(max_workers=10) as executor:
    futures = [
        executor.submit(broker.get_chart_data, code, '1d')
        for code in codes
    ]
    results = [f.result() for f in futures]
end = time.time()
print(f"ì†Œìš” ì‹œê°„: {end - start:.1f}ì´ˆ")
# ê²°ê³¼: ì•½ 2ì´ˆ (ë³‘ë ¬ ì²˜ë¦¬)

ë¹„êµ:
OpenAPI: 50ì´ˆ (ì•ˆì „) / 5ì´ˆ (ìœ„í—˜)
REST: 2ì´ˆ (ì•ˆì „í•˜ê³  ë¹ ë¦„!)
```

### 5.2 ì¼€ì´ìŠ¤ 2: ëŒ€ëŸ‰ ì£¼ë¬¸

```python
# ì‹œë‚˜ë¦¬ì˜¤: 30ê°œ ì¢…ëª© ë™ì‹œ ë§¤ìˆ˜

# OpenAPI
start = time.time()
for code in codes:  # 30ê°œ
    SendOrder(rqname, screen, accno, 1, code, 10, 0, "03", "")
    time.sleep(0.3)  # ì£¼ë¬¸ ê°„ê²© (ì•ˆì „)
end = time.time()
# ê²°ê³¼: ì•½ 9ì´ˆ

# OpenAPI ë¹ ë¥¸ ë²„ì „
for code in codes:
    SendOrder(...)
    time.sleep(0.05)  # ìµœì†Œ ê°„ê²©
# ê²°ê³¼: ì•½ 1.5ì´ˆ
# í•˜ì§€ë§Œ ì´ˆë‹¹ ì œí•œ(5ê±´) ì´ˆê³¼ ìœ„í—˜!


# REST API
start = time.time()
with ThreadPoolExecutor(max_workers=5) as executor:
    futures = [
        executor.submit(broker.send_order, code, 'buy', 10)
        for code in codes
    ]
    results = [f.result() for f in futures]
end = time.time()
# ê²°ê³¼: ì•½ 3ì´ˆ (ì´ˆë‹¹ 20ê±´ ì œí•œ ì¤€ìˆ˜)

ë¹„êµ:
OpenAPI: 9ì´ˆ (ì•ˆì „) / 1.5ì´ˆ (ìœ„í—˜)
REST: 3ì´ˆ (ì•ˆì „í•˜ê³  ë¹ ë¦„!)
```

---

## 6. ê²°ë¡  ë° ê¶Œì¥ì‚¬í•­

### 6.1 ìš”ì²­ ì œí•œ ìš”ì•½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì œí•œ í•­ëª©       â”‚ OpenAPI    â”‚ REST API   â”‚ ê°œì„ ë„   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì´ˆë‹¹ ì œí•œ       â”‚ 5ê±´        â”‚ 20ê±´       â”‚ â¬†ï¸ 4ë°°   â”‚
â”‚ ë¶„ë‹¹ ì œí•œ       â”‚ 100ê±´      â”‚ 1,000ê±´*   â”‚ â¬†ï¸ 10ë°°  â”‚
â”‚ ì‹œê°„ë‹¹ ì œí•œ     â”‚ 1,000ê±´    â”‚ ë¬´ì œí•œ     â”‚ â¬†ï¸ ë¬´í•œ  â”‚
â”‚ ë™ì‹œ ì—°ê²°       â”‚ 1ê°œ        â”‚ ì—¬ëŸ¬ ê°œ    â”‚ â¬†ï¸ í™•ì¥  â”‚
â”‚ ë°°ì¹˜ ì²˜ë¦¬       â”‚ ì œí•œì      â”‚ ì§€ì›       â”‚ â¬†ï¸ í–¥ìƒ  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

* ì‹œì„¸ ì¡°íšŒ ê¸°ì¤€
```

### 6.2 ì‹¤ì œ ì‚¬ìš©ëŸ‰ ì˜í–¥

```python
í˜„ì¬ ì‚¬ìš©ëŸ‰ (ì¶”ì •):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ì‹œê°„ë‹¹: ì•½ 150-400ê±´
ë¶„ë‹¹: ì•½ 20-100ê±´
ì´ˆë‹¹: ì•½ 0.5-2ê±´
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

OpenAPI ì œí•œ:
âš ï¸ ë¶„ë‹¹ 100ê±´ ê·¼ì ‘ (ê³ ë¶€í•˜ ì‹œ)
âš ï¸ ì‹œê°„ë‹¹ 1,000ê±´ ì—¬ìœ  ìˆìŒ
âœ… ëŒ€ë¶€ë¶„ ì‹œê°„ì€ ë¬¸ì œì—†ìŒ

REST API ì œí•œ:
âœ… ëª¨ë“  ìƒí™©ì—ì„œ ì—¬ìœ 
âœ… 10ë°° í™•ì¥ ê°€ëŠ¥
âœ… ë³‘ë ¬ ì²˜ë¦¬ë¡œ ë” ë¹ ë¦„
```

### 6.3 ë‹µë³€

**ì§ˆë¬¸**: ì„œë²„ ìš”ì²­ ì œí•œì€ ë„‰ë„‰í•´ì§€ë‚˜ ê°ì†Œí•˜ë‚˜?

**ë‹µë³€**: âœ… **ëŒ€í­ ë„‰ë„‰í•´ì§‘ë‹ˆë‹¤!**

**ê·¼ê±°**:
1. **ì´ˆë‹¹ ì œí•œ**: 5ê±´ â†’ 20ê±´ (4ë°° ì¦ê°€)
2. **ë¶„ë‹¹ ì œí•œ**: 100ê±´ â†’ 1,000ê±´ (10ë°° ì¦ê°€)
3. **ì‹œê°„ë‹¹ ì œí•œ**: 1,000ê±´ â†’ ë¬´ì œí•œ (ë¬´í•œ ì¦ê°€)
4. **ì‹¤ì œ ìš”ì²­ ìˆ˜**: ìºì‹±/WebSocketìœ¼ë¡œ 50% ê°ì†Œ
5. **ì²˜ë¦¬ ì†ë„**: ë³‘ë ¬ ì²˜ë¦¬ë¡œ 5ë°° ë¹ ë¦„

### 6.4 ì¶”ê°€ ì´ì 

```
1. WebSocket ì‹¤ì‹œê°„
   - OpenAPI: ì¢…ëª©ë§ˆë‹¤ SetRealReg (NíšŒ)
   - REST: í•œ ë²ˆì— êµ¬ë… (1íšŒ)
   â†’ ë“±ë¡ ìš”ì²­ 95% ê°ì†Œ

2. ìºì‹± íš¨ìœ¨
   - OpenAPI: ë³µì¡í•œ êµ¬í˜„
   - REST: ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©
   â†’ ì¤‘ë³µ ìš”ì²­ 50% ê°ì†Œ

3. ë°°ì¹˜ ì²˜ë¦¬
   - OpenAPI: ì œí•œì 
   - REST: ì§€ì› ì¢‹ìŒ
   â†’ ìš”ì²­ ìˆ˜ ëŒ€í­ ê°ì†Œ

4. ë¹„ë™ê¸° ì²˜ë¦¬
   - OpenAPI: ì–´ë ¤ì›€
   - REST: asyncio í™œìš©
   â†’ ë™ì‹œ ì²˜ë¦¬ ê°€ëŠ¥
```

### 6.5 ê¶Œì¥ì‚¬í•­

```python
REST ì „í™˜ ì‹œ:

1. ì¦‰ì‹œ ì´ì 
   âœ… ì œí•œ ê±±ì • ì—†ìŒ
   âœ… ë¹ ë¥¸ ì‘ë‹µ ì†ë„
   âœ… ì•ˆì •ì  ìš´ì˜

2. ì¶”ê°€ ìµœì í™” ê°€ëŠ¥
   - ë¹„ë™ê¸° ì²˜ë¦¬
   - ìŠ¤ë§ˆíŠ¸ ìºì‹±
   - WebSocket í™œìš©
   - ë°°ì¹˜ API

3. í™•ì¥ì„±
   - ì „ëµ ì¶”ê°€ ììœ ë¡œì›€
   - ì¢…ëª© ìˆ˜ ì œí•œ ì—†ìŒ
   - ë©€í‹° ê³„ì¢Œ ê°€ëŠ¥
```

**ìµœì¢… ê²°ë¡ **: REST ì „í™˜ ì‹œ ìš”ì²­ ì œí•œì€ **ëŒ€í­ ì™„í™”**ë˜ë©°, ì‹¤ì œ ìš”ì²­ ìˆ˜ë„ **ê°ì†Œ**í•©ë‹ˆë‹¤! ğŸš€

---

**ë¬¸ì„œ ì‘ì„±ì¼**: 2025-11-11  
**ì‘ì„±ì**: Claude  
**ë²„ì „**: 1.0
